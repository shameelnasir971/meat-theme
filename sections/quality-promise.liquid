{%- style -%}
  .section-{{ section.id }} {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    background-color: {{ section.settings.bg_color }};
    font-family: 'Inter', sans-serif;
  }

  .qp-container {
    max-width: 1240px;
    margin: 0 auto;
    padding: 0 20px;
  }

  /* Header Styles */
  .qp-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .qp-title {
    font-size: clamp(28px, 4vw, 42px);
    font-weight: 700;
    color: {{ section.settings.heading_color }};
    margin-bottom: 15px;
    line-height: 1.2;
  }

  .qp-subtitle {
    font-size: 16px;
    color: {{ section.settings.text_color }};
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.5;
    opacity: 0.8;
  }

  /* Grid Layout */
  .qp-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 25px;
    width: 100%;
  }

  /* Card Styles */
  .qp-card {
    background-color: {{ section.settings.card_bg_color }};
    border-radius: 12px;
    padding: 40px 25px;
    text-align: center;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100%;
    border: 1px solid transparent;
    position: relative;
    overflow: hidden;
  }

  .qp-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.08);
  }

  /* Icon Styles */
  .qp-icon-wrapper {
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 25px;
    color: {{ section.settings.icon_color }};
  }

  .qp-icon-wrapper svg {
    width: 100%;
    height: 100%;
    stroke-width: 1.5px;
    object-fit: contain;
  }
  
  .qp-icon-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  /* Typography */
  .qp-card-title {
    font-size: 20px;
    font-weight: 700;
    color: {{ section.settings.heading_color }};
    margin-bottom: 12px;
    margin-top: 0;
  }

  .qp-card-text {
    font-size: 14px;
    color: {{ section.settings.text_color }};
    line-height: 1.6;
    margin: 0;
  }

  /* Mobile Responsive */
  @media (max-width: 1024px) {
    .qp-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 600px) {
    .qp-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }
    .section-{{ section.id }} {
      padding-top: 40px;
      padding-bottom: 40px;
    }
    .qp-card {
      padding: 30px 20px;
    }
  }
{%- endstyle -%}

<section class="section-{{ section.id }}">
  <div class="qp-container">
    
    <div class="qp-header">
      <h2 class="qp-title">{{ section.settings.heading }}</h2>
      {%- if section.settings.subheading != blank -%}
        <div class="qp-subtitle">{{ section.settings.subheading }}</div>
      {%- endif -%}
    </div>

    <div class="qp-grid">
      {%- if section.blocks.size > 0 -%}
        {%- for block in section.blocks -%}
          <div class="qp-card" {{ block.shopify_attributes }}>
            <div class="qp-icon-wrapper">
              {%- if block.settings.custom_icon != blank -%}
                <img src="{{ block.settings.custom_icon | image_url: width: 140 }}" alt="{{ block.settings.title }}" loading="lazy" width="70" height="70">
              {%- else -%}
                 {%- case block.settings.icon_select -%}
                  {%- when 'steak' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor"><path d="M129.8 141.6c-27.1 16.3-43.5 39.5-54 75.8-13.6 47.1 8 102.6 51.5 137.9 33.7 27.4 75.8 40 119.5 31.6 37.9-7.4 72.6-32.6 112.6-70.5 10-10.5 10-25.3 0-35.8-9.5-10.5-26.3-10.5-35.8 0-32.6 30.5-62.1 52.6-88.4 56.8-27.4 5.3-53.7-3.2-75.8-21-27.4-22.1-41-56.8-32.6-86.3 6.3-22.1 16.8-35.8 33.7-46.3 3.2-2.1 4.2-6.3 2.1-9.5l-10.5-16.8c-2.1-4.3-7.4-5.3-11.6-3.2zm-2.1 114.7c15.8-15.8 35.8-26.3 57.9-29.5 24.2-3.2 47.4 4.2 68.4 20 5.3 4.2 12.6 3.2 16.8-2.1 4.2-5.3 3.2-12.6-2.1-16.8-26.3-20-56.8-29.5-88.4-25.3-28.4 4.2-53.7 17.9-72.6 37.9-5.3 5.3-4.2 13.7 1.1 17.9 5.2 4.2 13.6 3.2 18.9-2.1zm212.6-96.8c-24.2-25.3-54.7-43.2-88.4-50.5-35.8-7.4-71.6 1.1-103.2 24.2-5.3 4.2-6.3 11.6-2.1 16.8 4.2 5.3 11.6 6.3 16.8 2.1 26.3-18.9 55.8-26.3 85.3-20 27.4 6.3 52.6 21 72.6 42.1 18.9 21 33.7 48.4 44.2 81 2.1 6.3 9.5 9.5 15.8 7.4 6.3-2.1 9.5-9.5 7.4-15.8-12.6-38.9-30.5-70.5-52.6-95.8z"/></svg>
                  {%- when 'halal' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
                  {%- when 'shield' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M9 12l2 2 4-4"/></svg>
                  {%- when 'handshake' -%}
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="m11 17 2 2a1 1 0 1 0 3-3"/><path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 2 0l.47-.28c2.63-1.57 5.84-.78 8.02 1.9"/></svg>
                {%- endcase -%}
              {%- endif -%}
            </div>
            <h3 class="qp-card-title">{{ block.settings.title }}</h3>
            <p class="qp-card-text">{{ block.settings.text }}</p>
          </div>
        {%- endfor -%}
      {%- else -%}
        <!-- FALLBACK DEFAULT CONTENT (Agar blocks add nahi kiye to ye dikhega) -->
        <div class="qp-card">
          <div class="qp-icon-wrapper">
             <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12.5 7.5a4.5 4.5 0 0 0-6.364 6.364l8.197 8.197a1.5 1.5 0 0 0 2.121 0l3.879-3.879a1.5 1.5 0 0 0 0-2.121l-8.197-8.197Z"/><path d="m16 11-4 4"/></svg>
          </div>
          <h3 class="qp-card-title">Freshness First</h3>
          <p class="qp-card-text">Meat is cut fresh on order and never pre-frozen.</p>
        </div>
        <div class="qp-card">
          <div class="qp-icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
          </div>
          <h3 class="qp-card-title">Halal Commitment</h3>
          <p class="qp-card-text">Strict adherence to approved halal practices at every step.</p>
        </div>
        <div class="qp-card">
          <div class="qp-icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M9 12l2 2 4-4"/></svg>
          </div>
          <h3 class="qp-card-title">Hygiene & Safety</h3>
          <p class="qp-card-text">Clean processing, secure packaging, controlled delivery.</p>
        </div>
        <div class="qp-card">
          <div class="qp-icon-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"><path d="m11 17 2 2a1 1 0 1 0 3-3"/><path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 2 0l.47-.28c2.63-1.57 5.84-.78 8.02 1.9"/></svg>
          </div>
          <h3 class="qp-card-title">Customer Trust</h3>
          <p class="qp-card-text">Honest weights, consistent quality, and reliable service.</p>
        </div>
      {%- endif -%}
    </div>

  </div>
</section>

{% schema %}
{
  "name": "Our Quality Promise",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Our Quality Promise" },
    { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "Every cut of meat is carefully selected, hygienically processed." },
    { "type": "header", "content": "Colors" },
    { "type": "color", "id": "bg_color", "label": "Section Background", "default": "#ffffff" },
    { "type": "color", "id": "card_bg_color", "label": "Card Background", "default": "#FFF0F0" },
    { "type": "color", "id": "icon_color", "label": "Icon Color", "default": "#D32F2F" },
    { "type": "color", "id": "heading_color", "label": "Heading Text", "default": "#111111" },
    { "type": "color", "id": "text_color", "label": "Body Text", "default": "#555555" },
    { "type": "header", "content": "Spacing" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "step": 5, "unit": "px", "label": "Top Padding", "default": 60 },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "step": 5, "unit": "px", "label": "Bottom Padding", "default": 80 }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Card",
      "settings": [
        {
          "type": "select",
          "id": "icon_select",
          "label": "Icon",
          "options": [
            { "value": "steak", "label": "Meat/Steak" },
            { "value": "halal", "label": "Halal Badge" },
            { "value": "shield", "label": "Safety Shield" },
            { "value": "handshake", "label": "Trust Handshake" }
          ],
          "default": "steak"
        },
        { "type": "image_picker", "id": "custom_icon", "label": "Custom Icon Image" },
        { "type": "text", "id": "title", "label": "Title", "default": "Feature Title" },
        { "type": "textarea", "id": "text", "label": "Text", "default": "Feature description goes here." }
      ]
    }
  ],
  "presets": [
    {
      "name": "Our Quality Promise",
      "blocks": [
        { "type": "feature", "settings": { "icon_select": "steak", "title": "Freshness First", "text": "Meat is cut fresh on order and never pre-frozen." } },
        { "type": "feature", "settings": { "icon_select": "halal", "title": "Halal Commitment", "text": "Strict adherence to approved halal practices at every step." } },
        { "type": "feature", "settings": { "icon_select": "shield", "title": "Hygiene & Safety", "text": "Clean processing, secure packaging, controlled delivery." } },
        { "type": "feature", "settings": { "icon_select": "handshake", "title": "Customer Trust", "text": "Honest weights, consistent quality, and reliable service." } }
      ]
    }
  ]
}
{% endschema %}